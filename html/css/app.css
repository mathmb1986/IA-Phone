*,*::before,*::after{box-sizing:border-box}
html,body{margin:0;padding:0;background:transparent;color:#eee;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Phone fade/slide */
.phone{
  position:absolute;right:3%;bottom:6%;width:340px;height:680px;display:flex;place-items:stretch;
  opacity:0;transform:translateY(12px) scale(.985);visibility:hidden;pointer-events:none;
  transition:opacity .18s ease,transform .22s cubic-bezier(.2,.6,.2,1),visibility 0s linear .22s
}
.phone.is-open{opacity:1;transform:translateY(0) scale(1);visibility:visible;pointer-events:auto;transition:opacity .18s ease,transform .22s cubic-bezier(.2,.6,.2,1),visibility 0s}
.phone.is-closing{opacity:0;transform:translateY(8px) scale(.985);pointer-events:none}
@media (prefers-reduced-motion: reduce){.phone{transition:none !important;transform:none !important}}

.bezel{position:relative;flex:1;overflow:hidden;border-radius:32px;background:#0e0f12;color:#eee;border:1px solid #23252b;box-shadow:0 18px 60px rgba(0,0,0,.55), inset 0 0 0 6px #0a0b0d}

.notch{position:absolute;top:8px;left:50%;transform:translateX(-50%);width:140px;height:26px;border-radius:14px 14px 20px 20px;background:#0a0b0d;z-index:5;display:flex;align-items:center;justify-content:center;gap:10px}
.notch .cam{width:10px;height:10px;border-radius:50%;background:#0a0a0a;box-shadow:0 0 0 2px #101217, inset 0 0 4px rgba(0,0,0,.8)}
.notch .speaker{width:54px;height:6px;border-radius:4px;background:#151821;box-shadow:inset 0 0 2px rgba(255,255,255,.08)}

.status{margin-top:40px;display:flex;align-items:center;gap:8px;padding:10px 12px;border-bottom:1px solid #23252b;background:#121419}
.status .dot{width:8px;height:8px;border-radius:50%;background:#55d66b;display:inline-block}
.status .title{font-weight:700;letter-spacing:.3px}
.status .close{margin-left:auto;border:0;background:transparent;color:#aaa;font-size:20px;cursor:pointer;line-height:1}
.status .close:hover{color:#fff}

.content{position:absolute;inset:80px 12px 16px 12px;display:flex;flex-direction:column;gap:8px}

/* HOMESCREEN */
.homescreen{
  flex:1;display:flex;flex-direction:column;
  background:
    radial-gradient(120% 90% at 80% 10%,rgba(95,111,180,.12),transparent 60%),
    radial-gradient(120% 120% at 0% 100%,rgba(0,180,140,.12),transparent 55%),
    linear-gradient(180deg,#0f1218 0%,#0c0f14 100%);
  border-radius:12px;padding:14px 14px 20px 14px;border:1px solid #23252b
}
.homescreen.hidden{display:none}

.clock{padding:6px 2px 14px 2px;text-align:center;user-select:none}
.clock .time{font-size:36px;font-weight:700;letter-spacing:1px}
.clock .date{opacity:.8;font-size:12px}

.apps{margin-top:auto;display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:6px 0 0 0;justify-items:center;align-items:start}

.app{-webkit-tap-highlight-color:transparent;appearance:none;border:0;background:transparent;color:inherit;display:flex;flex-direction:column;align-items:center;gap:6px;text-align:center;cursor:pointer;outline:none;min-width:0}
.app:focus-visible .app-icon{box-shadow:0 0 0 3px rgba(255,255,255,.18)}
.app.is-pressing .app-icon{transform:scale(.96)}

.app-icon{
  width:56px;height:56px;border-radius:14px;display:grid;place-items:center;position:relative;overflow:hidden;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06),0 8px 24px rgba(0,0,0,.35);
  transition:transform .06s ease, box-shadow .06s ease, filter .06s ease
}
.app-icon svg{width:26px;height:26px;fill:#fff}
.app-icon::after{
  content:"";position:absolute;inset:0;margin:auto;width:12px;height:12px;border-radius:999px;
  background:radial-gradient(circle, rgba(255,255,255,.35) 0%, rgba(255,255,255,0) 60%);
  opacity:0;transform:scale(.2);pointer-events:none
}

.app-icon.green{background:linear-gradient(180deg,#2bd975,#0fa958)}
.app-icon.blue{background:linear-gradient(180deg,#3aa0ff,#3865ff)}
.app-icon.orange{background:linear-gradient(180deg,#ffa245,#ff6b2c)}
.app-icon.gray{background:linear-gradient(180deg,#5c6470,#3a4048)}
.app-label{font-size:12px;opacity:.95;user-select:none}

/* Cascade au démarrage */
.phone.is-open .apps .app .app-icon{
  animation:popIn .28s both;
  animation-delay:calc(var(--i, 0) * 60ms);
}
@keyframes popIn{
  0%{opacity:0;transform:translateY(6px) scale(.86)}
  60%{opacity:1;transform:translateY(0) scale(1.04)}
  100%{opacity:1;transform:translateY(0) scale(1)}
}

/* Tap pop + halo */
.app.play-pop .app-icon{animation:tapPop .16s ease-out both}
@keyframes tapPop{
  0%{transform:scale(.96)}
  70%{transform:scale(1.02)}
  100%{transform:scale(1)}
}
.app.play-halo .app-icon::after{animation:halo .22s ease-out forwards}
@keyframes halo{
  0%{opacity:.55;transform:scale(.25)}
  100%{opacity:0;transform:scale(2.2)}
}

@media (prefers-reduced-motion: reduce){
  .phone.is-open .apps .app .app-icon{animation:none}
  .app.play-pop .app-icon{animation:none}
  .app.play-halo .app-icon::after{animation:none}
}

/* APP MESSAGES */
.screen-messages{
  flex:1;display:none;flex-direction:column;
  background:linear-gradient(180deg,#10131a 0%,#090b10 100%);
  border-radius:12px;border:1px solid #23252b;
  overflow:hidden;
}
.screen-messages.active{display:flex}

.msg-header{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px;border-bottom:1px solid #23252b;
  background:radial-gradient(120% 120% at 0% 0%,rgba(80,140,255,.15),transparent 55%);
}
.msg-back{
  border:0;border-radius:999px;width:28px;height:28px;
  display:grid;place-items:center;cursor:pointer;
  background:#151824;color:#fff;font-size:16px;line-height:1;
}
.msg-back:hover{background:#1a1e2a}
.msg-header-text{display:flex;flex-direction:column;gap:2px}


.msg-title{
  font-size:15px;
  font-weight:600;
  color:#ffffff;                  /* Titre bien blanc */
}
.msg-subtitle{
  font-size:11px;
  opacity:.8;
  color:rgba(220,230,255,.85);    /* gris clair */
}

.msg-body{
  flex:1;display:flex;flex-direction:column;gap:6px;
  padding:6px 6px 8px 6px;
}

/* Liste de conversations */
.msg-threads{
  max-height:46%; /* moitié supérieure */ 
  padding:2px 4px 4px 4px;
  display:flex;flex-direction:column;gap:6px;
  overflow-y:auto;
}
.thread-item{
  display:flex;align-items:center;gap:8px;
  padding:7px 9px;border-radius:10px;
  background:rgba(12,14,20,.9);
  border:1px solid transparent;
  cursor:pointer;
}
.thread-item:hover{border-color:#3a4b6a;background:rgba(15,20,32,.95)}
.thread-item.active{border-color:#4b84ff;background:rgba(16,26,48,.95)}
.thread-avatar{
  width:32px;height:32px;border-radius:999px;
  display:grid;place-items:center;
  font-size:14px;font-weight:600;
  background:linear-gradient(135deg,#4f8dff,#52d8b8);
}
.thread-main{flex:1;min-width:0}


.thread-name{
  font-size:13px;
  font-weight:600;
  color:#f5f7ff;            /* <<< texte bien lisible */
}
.thread-preview{
  font-size:11px;
  opacity:.85;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  color:rgba(235,239,255,.88); /* <<< gris clair, pas noir */
}
.thread-meta{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:4px;
  font-size:10px;
  opacity:.8;
  color:rgba(220,230,255,.9);  /* heure + badge, clair */
}
.thread-unread{
  min-width:16px;
  height:16px;
  border-radius:999px;
  padding:0 4px;
  display:grid;
  place-items:center;
  font-size:10px;
  background:#4b84ff;
  color:#fff;                  /* déjà bien contrasté */
}

/* Fil de discussion */
.msg-thread{
  flex:1;display:flex;flex-direction:column;
  margin-top:2px;
  border-radius:10px;
  background:rgba(8,10,16,.9);
  border:1px solid #23252b;
  overflow:hidden;
}
.msg-thread-header{
  display:flex;align-items:center;gap:8px;
  padding:6px 8px;border-bottom:1px solid #23252b;
}
.msg-thread-avatar{
  width:26px;height:26px;border-radius:999px;
  display:grid;place-items:center;font-size:12px;font-weight:600;
  background:linear-gradient(135deg,#ff9b4b,#ff5f6c);
}
.msg-thread-meta{display:flex;flex-direction:column;gap:2px}

.msg-thread-name{
  font-size:13px;
  font-weight:600;
  color:#f5f7ff;                 /* texte principal très lisible */
}
.msg-thread-status{
  font-size:11px;
  opacity:.8;
  color:rgba(220,230,255,.85);   /* “En ligne” en gris clair */
}

.msg-thread-messages{
  flex:1;overflow-y:auto;
  padding:6px 8px 6px 8px;
  display:flex;flex-direction:column;gap:4px;
  font-size:13px;
}
.msg-bubble{
  max-width:76%;padding:5px 8px;border-radius:14px;
  line-height:1.25;word-wrap:break-word;
}
.msg-bubble.them{
  align-self:flex-start;
  background:#1a1f2b;
  border-bottom-left-radius:4px;
}
.msg-bubble.me{
  align-self:flex-end;
  background:linear-gradient(135deg,#4f8dff,#52d8b8);
  border-bottom-right-radius:4px;
}
.msg-time{
  margin-top:1px;font-size:10px;opacity:.7;
}

/* Input */
.msg-input{
  display:flex;align-items:center;gap:6px;
  padding:6px 6px 6px 8px;border-top:1px solid #23252b;
  background:rgba(8,10,16,.96);
}
.msg-input input{
  flex:1;border-radius:999px;border:1px solid #343949;
  padding:4px 10px;font-size:12px;
  background:#07080d;color:#fff;
}
.msg-input input:focus{outline:none;border-color:#4b84ff}
.msg-input button{
  border:0;border-radius:999px;width:28px;height:28px;
  display:grid;place-items:center;
  background:#4b84ff;color:#fff;cursor:pointer;font-size:14px;
}
.msg-input button:hover{background:#5a8eff}

/* Message "vide" */
.msg-empty{
  margin-top:auto;
  padding:8px;
  font-size:12px;
  text-align:center;
  opacity:.8;
}

/* DEBUG PANEL */
.debug{
  position:absolute;left:12px;right:12px;bottom:0;max-height:110px;
  padding:6px 8px;border-radius:8px;border:1px solid #2b2e36;
  background:rgba(10,12,16,.9);backdrop-filter:blur(2px);
  font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:11px;line-height:1.25;overflow:auto;display:none
}

.debug.show{display:block}
.debug .line{white-space:pre-wrap;word-break:break-word}
.debug .ok{color:#6be38a}
.debug .warn{color:#ffcc66}
.debug .err{color:#ff6b6b}

/* APP CONTACTS */
/* Layout général de l'écran contacts */
/*
.screen-contacts .contacts-body {
    display: flex;
    flex-direction: column;
    height: 100%;
}
*/

.screen-contacts.active {
    display: flex;
    flex-direction: column;
}

.screen-contacts.active {
    display: flex
}

/* Bouton + dans le header */
.msg-add {
    margin-left: auto;
    border: 0;
    border-radius: 999px;
    width: 28px;
    height: 28px;
    display: grid;
    place-items: center;
    cursor: pointer;
    background: #4b84ff;
    color: #fff;
    font-size: 18px;
    line-height: 1;
}

    .msg-add:hover {
        background: #5a8eff
    }

/* Liste des contacts */

/* Liste = prend l'espace dispo et scroll */
.contacts-list {
    flex: 1 1 auto;
    overflow-y: auto;
    padding: 0.5rem 0.75rem 0.75rem;
}

/* État "aucun contact" */
#contactsEmpty {
    padding: 1rem;
    text-align: center;
    opacity: 0.7;
}

/* Panneau "ajouter/éditer" intégré en bas de l'écran */
.contact-editor {
    flex: 0 0 auto;
    margin-top: 0.35rem;
    padding: 0.75rem;
    border-radius: 12px;
    background: rgba(4, 4, 10, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(12px);
}

    /* caché par défaut */
    .contact-editor.hidden {
        display: none;
    }

.contact-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    border-radius: 10px;
    background: rgba(12,14,20,.9);
    cursor: pointer;
    border: 1px solid transparent;
}

.contact-item:hover {
    border-color: #3a4b6a;
    background: rgba(15,20,32,.95);
}

.contact-avatar {
    width: 36px;
    height: 36px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    background: linear-gradient(135deg,#ffa245,#ff6b2c);
    font-weight: 600;
    font-size: 14px;
    color: #fff;
}

.contact-info {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.contact-name {
    font-size: 14px;
    font-weight: 600;
    color: #f5f7ff;
}

.contact-number {
    font-size: 12px;
    opacity: .85;
    color: rgba(220,230,255,.85);
}

/* Petites actions à droite (appeler / supprimer) */
.contact-actions {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.contact-actions button {
    border: 0;
    border-radius: 999px;
    width: 24px;
    height: 24px;
    display: grid;
    place-items: center;
    font-size: 14px;
    cursor: pointer;
    background: #1b1f2a;
    color: #e5e9ff;
}

.contact-actions button:hover {
    background: #2b3350;
}

.contact-actions .contact-delete {
    background: #ff5f6c;
    color: #fff;
}

.contact-actions .contact-delete:hover {
    background: #ff3d54;
}


.contact-field {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-bottom: 8px;
    font-size: 12px;
    color: rgba(220,230,255,.9);
}

.contact-field input {
    border-radius: 999px;
    border: 1px solid #343949;
    padding: 4px 10px;
    font-size: 12px;
    background: #07080d;
    color: #fff;
}

.contact-field input:focus {
    outline: none;
    border-color: #4b84ff;
}

.contact-modal-actions {
    margin-top: 6px;
    display: flex;
    justify-content: flex-end;
    gap: 6px;
}


/* Un style simple pour les boutons secondaires / primaires si tu n'en as pas déjà */
.btn-tertiary,
.btn-secondary,
.btn-primary {
    border-radius: 999px;
    border: 0;
    padding: 4px 10px;
    font-size: 12px;
    cursor: pointer;
}

.btn-tertiary:hover {
    background: #f90000;
}

.btn-secondary:hover {
    background: #14ce13;
}

.btn-primary:hover {
    background: #14ce13;
}


.btn-tertiary {
    background: #fff114;
	color: #000;
}

.btn-secondary {
    background: #2bd975;
    color: #000;
}

.btn-primary {
    background: #3865ff;
    color: #000;
}


.contact-editor-row {
    display: flex;
    flex-direction: column;
    margin-bottom: 0.5rem;
}

    .contact-editor-row label {
        font-size: 0.75rem;
        opacity: 0.8;
        margin-bottom: 0.15rem;
    }

    .contact-editor-row input {
        border-radius: 999px;
        border: none;
        padding: 0.35rem 0.75rem;
        font-size: 0.85rem;
        background: rgba(255, 255, 255, 0.05);
        color: #fff;
    }

.contact-editor-actions {
    display: flex;
    justify-content: flex-end;
    gap: 0.5rem;
    margin-top: 0.25rem;
}

.btn-add-contact {
    margin-left: auto;
}



.screen-contact-details {
  flex: 1;
  display: none;
  flex-direction: column;
  background: linear-gradient(180deg,#10131a 0%,#090b10 100%);
  border-radius: 12px;
  border: 1px solid #23252b;
  overflow: hidden;
}
.screen-contact-details.active {
  display: flex;
}

.contact-details-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 20px;
}

.contact-details-actions button {
  font-size: 14px;
  padding: 10px 16px;
}
.screen-contact-details {
  flex: 1;
  display: none;
  flex-direction: column;
  background: linear-gradient(180deg,#10131a 0%,#090b10 100%);
  border-radius: 12px;
  border: 1px solid #23252b;
  overflow: hidden;
}
.screen-contact-details.active {
  display: flex;
}

.contact-details-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 20px;
}

.contact-details-actions button {
  font-size: 14px;
  padding: 10px 16px;
}
